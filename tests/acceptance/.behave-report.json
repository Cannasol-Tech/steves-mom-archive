[
{"keyword": "Feature", "name": "Model Router End-to-End Scenarios", "tags": [], "location": "tests/acceptance/features/model_router.feature:1", "status": "passed", "description": ["As a user of the AI system", "I want the model router to behave correctly under various conditions", "So that the system is reliable, cost-effective, and performant."], "elements": [{"type": "background", "keyword": "Background", "name": "", "location": "tests/acceptance/features/model_router.feature:6", "steps": [{"keyword": "Given", "step_type": "given", "name": "a ModelRouter instance", "location": "tests/acceptance/features/model_router.feature:7"}]}, {"type": "scenario", "keyword": "Scenario", "name": "Cost-conscious business user gets cheapest responses", "tags": ["PRD-101"], "location": "tests/acceptance/features/model_router.feature:10", "steps": [{"keyword": "Given", "step_type": "given", "name": "a ModelRouter instance", "location": "tests/acceptance/features/model_router.feature:7", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:51", "arguments": []}, "result": {"status": "passed", "duration": 0.00024390220642089844}}, {"keyword": "Given", "step_type": "given", "name": "a \"cost_optimized\" routing policy with a max cost of $0.05", "location": "tests/acceptance/features/model_router.feature:11", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:56", "arguments": [{"value": "cost_optimized", "name": "policy_name"}, {"value": 0.05, "name": "max_cost", "original": "0.05"}]}, "result": {"status": "passed", "duration": 0.0001342296600341797}}, {"keyword": "And", "step_type": "given", "name": "a \"local\" provider is configured with a cost of $0.01 and priority 5", "location": "tests/acceptance/features/model_router.feature:12", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:64", "arguments": [{"value": "local", "name": "provider_name"}, {"value": 0.01, "name": "cost", "original": "0.01"}, {"value": 5, "name": "priority", "original": "5"}]}, "result": {"status": "passed", "duration": 0.0017390251159667969}}, {"keyword": "And", "step_type": "given", "name": "a \"grok\" provider is configured with a cost of $0.08 and priority 10", "location": "tests/acceptance/features/model_router.feature:13", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:64", "arguments": [{"value": "grok", "name": "provider_name"}, {"value": 0.08, "name": "cost", "original": "0.08"}, {"value": 10, "name": "priority", "original": "10"}]}, "result": {"status": "passed", "duration": 0.0011501312255859375}}, {"keyword": "When", "step_type": "when", "name": "a business user sends a query", "location": "tests/acceptance/features/model_router.feature:14", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:74", "arguments": []}, "result": {"status": "passed", "duration": 0.0003998279571533203}}, {"keyword": "Then", "step_type": "then", "name": "the router should select the \"local\" provider", "location": "tests/acceptance/features/model_router.feature:15", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:80", "arguments": [{"value": "local", "name": "provider_name"}]}, "result": {"status": "passed", "duration": 8.392333984375e-05}}, {"keyword": "And", "step_type": "then", "name": "the \"grok\" provider should not be called", "location": "tests/acceptance/features/model_router.feature:16", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:84", "arguments": [{"value": "grok", "name": "provider_name"}]}, "result": {"status": "passed", "duration": 8.511543273925781e-05}}], "status": "passed"}, {"type": "scenario", "keyword": "Scenario", "name": "Production system fails over to backup provider", "tags": ["PRD-102"], "location": "tests/acceptance/features/model_router.feature:19", "steps": [{"keyword": "Given", "step_type": "given", "name": "a ModelRouter instance", "location": "tests/acceptance/features/model_router.feature:7", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:51", "arguments": []}, "result": {"status": "passed", "duration": 0.00013375282287597656}}, {"keyword": "Given", "step_type": "given", "name": "a \"failover\" routing policy with fallback enabled", "location": "tests/acceptance/features/model_router.feature:20", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:88", "arguments": [{"value": "failover", "name": "policy_name"}]}, "result": {"status": "passed", "duration": 9.202957153320312e-05}}, {"keyword": "And", "step_type": "given", "name": "a primary \"grok\" provider is configured to fail", "location": "tests/acceptance/features/model_router.feature:21", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:93", "arguments": [{"value": "grok", "name": "provider_name"}]}, "result": {"status": "passed", "duration": 0.0011751651763916016}}, {"keyword": "And", "step_type": "given", "name": "a backup \"local\" provider is configured to succeed", "location": "tests/acceptance/features/model_router.feature:22", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:99", "arguments": [{"value": "local", "name": "provider_name"}]}, "result": {"status": "passed", "duration": 0.0012249946594238281}}, {"keyword": "When", "step_type": "when", "name": "a user sends a technical query", "location": "tests/acceptance/features/model_router.feature:23", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:105", "arguments": []}, "result": {"status": "passed", "duration": 0.001104116439819336}}, {"keyword": "Then", "step_type": "then", "name": "the router should select the \"local\" provider after the primary fails", "location": "tests/acceptance/features/model_router.feature:24", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:113", "arguments": [{"value": "local", "name": "provider_name"}]}, "result": {"status": "passed", "duration": 8.082389831542969e-05}}], "status": "passed"}, {"type": "scenario", "keyword": "Scenario", "name": "Complex queries are routed by AI capability", "tags": ["PRD-103"], "location": "tests/acceptance/features/model_router.feature:27", "steps": [{"keyword": "Given", "step_type": "given", "name": "a ModelRouter instance", "location": "tests/acceptance/features/model_router.feature:7", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:51", "arguments": []}, "result": {"status": "passed", "duration": 9.703636169433594e-05}}, {"keyword": "Given", "step_type": "given", "name": "a \"capability_based\" routing policy requiring \"REASONING\" and \"CODE_GENERATION\"", "location": "tests/acceptance/features/model_router.feature:28", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:119", "arguments": [{"value": "capability_based", "name": "policy"}, {"value": "REASONING", "name": "cap1"}, {"value": "CODE_GENERATION", "name": "cap2"}]}, "result": {"status": "passed", "duration": 6.29425048828125e-05}}, {"keyword": "And", "step_type": "given", "name": "a \"local\" provider is configured with \"TEXT_GENERATION\" capability and priority 10", "location": "tests/acceptance/features/model_router.feature:29", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:126", "arguments": [{"value": "local", "name": "p_name"}, {"value": "TEXT_GENERATION", "name": "cap"}, {"value": 10, "name": "priority", "original": "10"}]}, "result": {"status": "passed", "duration": 0.0009970664978027344}}, {"keyword": "And", "step_type": "given", "name": "a \"grok\" provider is configured with \"REASONING\" and \"CODE_GENERATION\" capabilities and priority 5", "location": "tests/acceptance/features/model_router.feature:30", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:132", "arguments": [{"value": "grok", "name": "p_name"}, {"value": "REASONING", "name": "cap1"}, {"value": "CODE_GENERATION", "name": "cap2"}, {"value": 5, "name": "priority", "original": "5"}]}, "result": {"status": "passed", "duration": 0.0012478828430175781}}, {"keyword": "When", "step_type": "when", "name": "a user sends a query requiring code generation", "location": "tests/acceptance/features/model_router.feature:31", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:139", "arguments": []}, "result": {"status": "passed", "duration": 0.0022509098052978516}}, {"keyword": "Then", "step_type": "then", "name": "the router should select the \"grok\" provider", "location": "tests/acceptance/features/model_router.feature:32", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:80", "arguments": [{"value": "grok", "name": "provider_name"}]}, "result": {"status": "passed", "duration": 0.00010585784912109375}}], "status": "passed"}, {"type": "scenario", "keyword": "Scenario", "name": "Administrator modifies routing policies at runtime", "tags": ["PRD-104"], "location": "tests/acceptance/features/model_router.feature:35", "steps": [{"keyword": "Given", "step_type": "given", "name": "a ModelRouter instance", "location": "tests/acceptance/features/model_router.feature:7", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:51", "arguments": []}, "result": {"status": "passed", "duration": 0.0001499652862548828}}, {"keyword": "Given", "step_type": "given", "name": "a \"local\" provider is configured with priority 5 and 60 max requests per minute", "location": "tests/acceptance/features/model_router.feature:36", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:145", "arguments": [{"value": "local", "name": "p_name"}, {"value": 5, "name": "priority", "original": "5"}, {"value": 60, "name": "rpm", "original": "60"}]}, "result": {"status": "passed", "duration": 0.0027251243591308594}}, {"keyword": "When", "step_type": "when", "name": "the administrator loads a new configuration with priority 10 and 120 max requests per minute", "location": "tests/acceptance/features/model_router.feature:37", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:151", "arguments": [{"value": 10, "name": "priority", "original": "10"}, {"value": 120, "name": "rpm", "original": "120"}]}, "result": {"status": "passed", "duration": 0.00013589859008789062}}, {"keyword": "Then", "step_type": "then", "name": "the router's configuration should be updated successfully", "location": "tests/acceptance/features/model_router.feature:38", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:160", "arguments": []}, "result": {"status": "passed", "duration": 9.584426879882812e-05}}, {"keyword": "And", "step_type": "then", "name": "the system should continue to operate correctly", "location": "tests/acceptance/features/model_router.feature:39", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:166", "arguments": []}, "result": {"status": "passed", "duration": 0.0004317760467529297}}], "status": "passed"}, {"type": "scenario", "keyword": "Scenario", "name": "DevOps engineer configures router from environment variables", "tags": ["PRD-105"], "location": "tests/acceptance/features/model_router.feature:42", "steps": [{"keyword": "Given", "step_type": "given", "name": "a ModelRouter instance", "location": "tests/acceptance/features/model_router.feature:7", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:51", "arguments": []}, "result": {"status": "passed", "duration": 0.00011491775512695312}}, {"keyword": "Given", "step_type": "given", "name": "the environment is configured for \"failover\" routing with a \"local\" provider", "location": "tests/acceptance/features/model_router.feature:43", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:173", "arguments": [{"value": "failover", "name": "strategy"}, {"value": "local", "name": "provider_name"}]}, "result": {"status": "passed", "duration": 6.29425048828125e-05}}, {"keyword": "When", "step_type": "when", "name": "the router is created from the environment", "location": "tests/acceptance/features/model_router.feature:44", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:181", "arguments": []}, "result": {"status": "passed", "duration": 0.0017848014831542969}}, {"keyword": "Then", "step_type": "then", "name": "its configuration should match the environment variables", "location": "tests/acceptance/features/model_router.feature:45", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:196", "arguments": []}, "result": {"status": "passed", "duration": 9.512901306152344e-05}}], "status": "passed"}, {"type": "scenario", "keyword": "Scenario", "name": "Operations team monitors system health and performance", "tags": ["PRD-106"], "location": "tests/acceptance/features/model_router.feature:48", "steps": [{"keyword": "Given", "step_type": "given", "name": "a ModelRouter instance", "location": "tests/acceptance/features/model_router.feature:7", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:51", "arguments": []}, "result": {"status": "passed", "duration": 0.00011610984802246094}}, {"keyword": "Given", "step_type": "given", "name": "a \"local\" provider is configured for health checks", "location": "tests/acceptance/features/model_router.feature:49", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:201", "arguments": [{"value": "local", "name": "p_name"}]}, "result": {"status": "passed", "duration": 0.0012848377227783203}}, {"keyword": "When", "step_type": "when", "name": "3 requests are sent to the router", "location": "tests/acceptance/features/model_router.feature:50", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:207", "arguments": [{"value": 3, "name": "count", "original": "3"}]}, "result": {"status": "passed", "duration": 0.0011219978332519531}}, {"keyword": "Then", "step_type": "then", "name": "the provider status should report as \"healthy\"", "location": "tests/acceptance/features/model_router.feature:51", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:214", "arguments": [{"value": "healthy", "name": "status"}]}, "result": {"status": "passed", "duration": 0.0004458427429199219}}, {"keyword": "And", "step_type": "then", "name": "show 3 recent requests", "location": "tests/acceptance/features/model_router.feature:52", "match": {"location": "tests/acceptance/features/steps/model_router_steps.py:219", "arguments": [{"value": 3, "name": "count", "original": "3"}]}, "result": {"status": "passed", "duration": 0.0003268718719482422}}], "status": "passed"}]},

{"keyword": "Feature", "name": "Sample acceptance scaffold", "tags": ["PRD-001", "smoke"], "location": "tests/acceptance/features/sample_acceptance.feature:2", "status": "passed", "description": ["As a team", "I want a minimal acceptance test scaffold", "So that the Make target can demonstrate report generation"], "elements": [{"type": "scenario", "keyword": "Scenario", "name": "Placeholder passes trivially", "tags": [], "location": "tests/acceptance/features/sample_acceptance.feature:7", "steps": [{"keyword": "Given", "step_type": "given", "name": "a working repository", "location": "tests/acceptance/features/sample_acceptance.feature:8", "match": {"location": "tests/acceptance/features/steps/sample_steps.py:4", "arguments": []}, "result": {"status": "passed", "duration": 9.107589721679688e-05}}, {"keyword": "When", "step_type": "when", "name": "I run a no-op acceptance step", "location": "tests/acceptance/features/sample_acceptance.feature:9", "match": {"location": "tests/acceptance/features/steps/sample_steps.py:10", "arguments": []}, "result": {"status": "passed", "duration": 8.606910705566406e-05}}, {"keyword": "Then", "step_type": "then", "name": "the placeholder should pass", "location": "tests/acceptance/features/sample_acceptance.feature:10", "match": {"location": "tests/acceptance/features/steps/sample_steps.py:16", "arguments": []}, "result": {"status": "passed", "duration": 8.702278137207031e-05}}], "status": "passed"}]}
]
